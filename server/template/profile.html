{% load staticfiles %}
<html lang="en">
  <head>
  
  	<!-- Title -->
	<title>Supreme Bot</title>
    
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">    

    <!-- Stylesheets -->
    <link href="{% static 'css/bootstrap.min.css' %}" rel="stylesheet">
    <link href="{% static 'css/font-awesome.min.css' %}" rel="stylesheet">
    <link href="{% static 'css/style.css' %}" rel="stylesheet">
    <link href="{% static 'css/responsive.css' %}" rel="stylesheet">

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  </head>
  <body>
  
  <!-- Start -->

	<section class="page_area">
		<div class="page_main">
			<div class="page_headding">
				<h2>Profiles</h2>
			</div>
			<div class="side_nav">
				<ul>
					<li>
						<a href="{% url 'dashboard' %}"><img style="margin-top:10px;" src="{% static 'images/home_w_icon.png' %}" alt="img"/></a>
					</li>
					<li>
						<a href="{% url 'dashboard' %}"><img style="margin-top:10px;" src="{% static 'images/cros_w_icon.png' %}" alt="img"/></a>
					</li>
				</ul>
			</div>
			
			<div class="profiles_area">
				<div class="container-fluid">
					<div class="row">
						<div class="col-sm-6">
							<div class="profile_form">
								<h2>Shipping</h2>
								<form>
									<div class="row">
										<div class="col-sm-12">
											<div class="profile_input_item">
												<input id="address1" type="text" class="form-control" placeholder="Address 1">
											</div>
										</div>
									</div>
									<div class="row">
										<div class="col-sm-12">
											<div class="profile_input_item">
												<input id="address2" type="text" class="form-control" placeholder="Address 2">
											</div>
										</div>
									</div>
									<div class="row">
										<div class="col-sm-6">
											<div class="profile_input_item">
												<input id="city" type="text" class="form-control" placeholder="City">
											</div>
										</div>
										<div class="col-sm-6">
											<div class="profile_input_item">
												<input id="zipcode" type="text" class="form-control" placeholder="ZIP Code">
											</div>
										</div>
									</div>
									<div class="row">
										<div class="col-sm-6">
											<div class="profile_select">
												<div class="custom-select">
												  <select id="paymentoption">
													  <option value="0">Payment Option</option>
													<option value="Visa">Visa</option>
													<option value="American Express">American Express</option>
													<option value="Mastercard">Mastercard</option>
												  </select>
												</div>
											</div>
										</div>
										<div class="col-sm-6">
											<div class="profile_select">
												<div class="custom-select">
												  <select id="country">
													<option value="0">Country</option>
													  <option value="US">US</option>
													  <option value="EU">EU</option>
												  </select>
												</div>
											</div>
										</div>
									</div>
								</form>
							</div>
						</div>
						<div class="col-sm-6">
							<div class="profile_form">
								<h2>Personal</h2>
								<form>
									<div class="row">
										<div class="col-sm-12">
											<div class="profile_input_item">
												<input id="cardnumber" type="text" class="form-control" placeholder="Card Number">
											</div>
										</div>
									</div>
									<div class="row">
										<div class="col-sm-6">
											<div class="profile_select">
												<div class="custom-select">
												  <select id="month">
													<option value="0">Month</option>
													<option value="01">01</option>
													<option value="02">02</option>
													<option value="03">03</option>
													<option value="04">04</option>
													  <option value="05">05</option>
													  <option value="06">06</option>
													  <option value="07">07</option>
													  <option value="08">08</option>
													  <option value="09">09</option>
													  <option value="10">10</option>
													  <option value="11">11</option>
													  <option value="12">12</option>

												  </select>
												</div>
											</div>
										</div>
										<div class="col-sm-6">
											<div class="profile_select">
												<div class="custom-select">
												  <select id="year">
													<option value="0">Year</option>
													<option value="2018">2018</option>
													<option value="2019">2019</option>
													<option value="2020">2020</option>
													  <option value="2021">2021</option>
													  <option value="2022">2022</option>
													  <option value="2023">2023</option>
													  <option value="2024">2024</option>
													  <option value="2025">2025</option>
													  <option value="2026">2026</option>
													  <option value="2027">2027</option>
													  <option value="2028">2028</option>
												  </select>
												</div>
											</div>
										</div>
									</div>
									<div class="row">
										<div class="col-sm-9">
											<div class="profile_input_item">
												<input id="nameoncard" type="text" class="form-control" placeholder="Name on Card">
											</div>
										</div>
										<div class="col-sm-3">
											<div class="profile_input_item">
												<input id="cvv" type="text" class="form-control" placeholder="CVV">
											</div>
										</div>
									</div>
									<div class="row">
										<div class="col-sm-12">
											<div class="profile_input_item">
												<input id="phonenumber" type="text" class="form-control" placeholder="Phone Number">
											</div>
										</div>
									</div>
									<div class="row">
										<div class="col-sm-12">
											<div class="profile_input_item">
												<input id="email" type="text" class="form-control" placeholder="Email">
											</div>
										</div>
									</div>
								</form>
							</div>
						</div>
					</div>
				</div>
			</div>
			
			<div class="tast_editor_down">
				<div class="container-fluid">
					<div class="row">
						<div class="col-sm-12">
							<div class="task_left_btns">
								<div class="tast_editor_down_select">
									<div class="custom-select">
									  <select id="profileSelected">
										<option value="0">Profiles</option>
										  {% for profile in profiles %}
										  <option id="profile" value="{{ profile.id }}">{{ profile.name }}:{{profile.id}}</option>
										  {% endfor %}
									  </select>
									</div>
								</div>
								<button id="save_profile" onclick="save_profile()" class="save_btn">Save</button>
								<button id="edit_profile" onclick="edit_profile()" class="edit_btn">Edit</button>
								<button id="delete_profile" onclick="delete_profile()" class="delete_btn">Delete</button>
								
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</section>

	

    <!-- Javascript -->
  <script src="{% static 'js/jquery-1.12.4.min.js' %}"></script>
  <script src="{% static 'js/bootstrap.min.js' %}"></script>

  <!-- Custom Javascript -->
  <script src="{% static 'js/custom.js' %}"></script>
    <script>

    	function edit_profile(){
    		var id = $('#profileSelected').val();

            $.post("/edit_profile", {'address1':$("#address1").val(), 'address2': $("#address2").val(),
             'city':$("#city").val(), 'zip_code': $("#zipcode").val(), 'payment_option': $("#paymentoption").val(),
             'country': $("#country").val(), 'card_number':$("#cardnumber").val(),'expiry':$("#month").val(),
             'year':$("#year").val(),'name':$("#nameoncard").val(),'cvv':$("#cvv").val(),
             'phone':$("#phonenumber").val(),'email':$("#email").val(), 'id': id}, function(data) {
                if (data['status'] == 200)
                {
                    window.location = '/';
                }
                else
                {
                    alert("please fill all the fields");
                }
            });

        };
        function save_profile(){
            $.post("/save_profile", {'address1':$("#address1").val(), 'address2': $("#address2").val(),
             'city':$("#city").val(), 'zip_code': $("#zipcode").val(), 'payment_option': $("#paymentoption").val(),
             'country': $("#country").val(), 'card_number':$("#cardnumber").val(),'expiry':$("#month").val(),
             'year':$("#year").val(),'name':$("#nameoncard").val(),'cvv':$("#cvv").val(),
             'phone':$("#phonenumber").val(),'email':$("#email").val(),}, function(data) {
                if (data['status'] == 200)
                {
                    window.location = '/';
                }
                else
                {
                    alert("please fill all the fields");
                }
            });

        };
        function delete_profile(){
            var profile = $('#profileSelected').val();
            if (profile == 0) {
                alert("please select profile to delete");
            }
            else{
                var chartDataUrl = "http://127.0.0.1:8000/delete_profile"+"/"+ profile
                $.get(chartDataUrl, function(data) {
                    window.location = '/';
                });
            }
        };
    </script>
    
  </body>
</html>